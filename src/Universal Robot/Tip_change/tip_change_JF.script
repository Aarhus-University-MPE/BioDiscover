def tip_change_JF():
  set_tool_voltage(24)
  set_standard_analog_input_domain(0, 1)
  set_standard_analog_input_domain(1, 1)
  set_tool_analog_input_domain(0, 1)
  set_tool_analog_input_domain(1, 1)
  set_analog_outputdomain(0, 1)
  set_analog_outputdomain(1, 1)
  set_input_actions_to_default()
  set_runstate_configurable_digital_outputs([0,2])
  set_runstate_configurable_digital_output_to_value(0, 1)
  set_runstate_configurable_digital_output_to_value(2, 1)
  set_safety_mode_transition_hardness(1)
  set_tcp(p[0.0,0.0,0.055979999999999995,-1.3458268116173266E-4,3.1415016619819633,3.9681461675370393E-5])
  set_payload(0.78,[0.0,0.0,0.0])
  set_gravity([0.0, 0.0, 9.82])
  global Old_Tool=0
  global Old_tip=0
  global open=True
  global New_Tool=0
  global New_tip=0
  global Plane_1=p[-0.0770007253691134,-0.2569038687826412,-0.14164607246586347,-1.3815727388786158E-4,3.9157092093331376E-4,4.846773329003927E-4]
  global Plane_2=p[-0.05274787273759442,-0.37769989477481725,-0.1108362793604244,-1.9373205353577651E-4,6.361596437533793E-5,0.004578877010584004]
  rtde_set_watchdog("speed_slider_mask", 10.0, "ignore")
  while (True):
    $ 1 "Robot Program"
    $ 2 "MoveJ"
    $ 3 "Tip_change"
    set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
    movej(get_inverse_kin(p[-.081571041689, -.272848135185, .299256207466, .000010599753, .000091034070, -1.545000225581], qnear=[-1.2314394156085413, -0.8807929197894495, -1.7776911894427698, -1.8250792662249964, 1.475998878479004, 2.150223970413208]), a=1.3962634015954636, v=1.0471975511965976)
    $ 4 "Set"
    set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
    $ 5 "'skipping tip 0-> No tool on robot'"
    # 'skipping tip 0-> No tool on robot'
    $ 6 "If Old_tip≟3"
    if (Old_tip == 3):
      $ 7 "MoveL"
      $ 8 "Tip1_high"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.538968396853, -.338377608337, .326941763397, -.006750101562, .008486174075, 3.126496266078], a=1.2, v=0.25)
      $ 9 "Tip1_Slip"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.538568398257, -.337869202387, .236938532763, -.006755020820, .008472033663, 3.124160891745], a=1.2, v=0.25)
      $ 10 "Tip1_Lock"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.538583486898, -.338869073989, .236943928390, .001253579096, -.008321164788, -2.111822295346], a=1.2, v=0.25)
      $ 11 "Tip1_Twistoff"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.538643361780, -.338792623777, .250943591614, -.002675953729, -.006760978995, -1.059027481881], a=1.2, v=0.25)
      $ 12 "Tip1_high"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.538968396853, -.338377608337, .326941763397, -.006750101562, .008486174075, 3.126496266078], a=1.2, v=0.25)
    end
    $ 14 "If Old_tip≟4"
    if (Old_tip == 4):
      $ 15 "MoveL"
      $ 16 "Tip2_High"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.538643991063, -.316880368898, .326825757409, -.006750101602, .008486174121, 3.126496266077], a=1.2, v=0.25)
      $ 17 "Tip2_Slip"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.538243992466, -.316371962948, .236822526775, -.006750101593, .008486174136, 3.126496266077], a=1.2, v=0.25)
      $ 18 "Tip2_Lock"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.538259081108, -.317371834550, .236827922402, .001243202613, -.008318897712, -2.109462831304], a=1.2, v=0.25)
      $ 19 "Tip2_Twistoff"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.538318955990, -.317295384338, .250827585625, -.002665764994, -.006767286638, -1.062270799953], a=1.2, v=0.25)
      $ 20 "Tip2_High"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.538643991063, -.316880368898, .326825757409, -.006750101602, .008486174121, 3.126496266077], a=1.2, v=0.25)
    end
    $ 22 "If Old_tip≟5"
    if (Old_tip == 5):
      $ 23 "MoveL"
      $ 24 "Tip3_High"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.538312040952, -.294883193659, .326707053607, -.006750099425, .008486175583, 3.126496266085], a=1.2, v=0.25)
      $ 25 "Tip3_Slip"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.537912042355, -.294374787708, .236703822973, -.006750100039, .008486175795, 3.126496244998], a=1.2, v=0.25)
      $ 26 "Tip3_Lock"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.537927130996, -.295374659310, .236709218600, .001243202004, -.008318897244, -2.109462831333], a=1.2, v=0.25)
      $ 27 "Tip3_Twistoff"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.537987005878, -.295298209098, .250708881824, -.002665764998, -.006767286701, -1.062270799982], a=1.2, v=0.25)
      $ 28 "Tip3_High"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.538312040952, -.294883193659, .326707053607, -.006750099425, .008486175583, 3.126496266085], a=1.2, v=0.25)
    end
    $ 30 "If Old_tip≟6"
    if (Old_tip == 6):
      $ 31 "MoveL"
      $ 32 "Tip4_High"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.537987635161, -.273385954220, .326591047619, -.006750099220, .008486175790, 3.126496266072], a=1.2, v=0.25)
      $ 33 "Tip4_Slip"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.537587636565, -.272877548270, .236587816985, -.006750101228, .008486170773, 3.126496266091], a=1.2, v=0.25)
      $ 34 "Tip4_Lock"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.537602725206, -.273877419871, .236593212612, .001243202483, -.008318897768, -2.109462831485], a=1.2, v=0.25)
      $ 35 "Tip4_Twistoff"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.537662600088, -.273800969659, .250592875836, -.002665764970, -.006767286671, -1.062270799718], a=1.2, v=0.25)
      $ 36 "Tip4_High"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.537987635161, -.273385954220, .326591047619, -.006750099220, .008486175790, 3.126496266072], a=1.2, v=0.25)
    end
    $ 38 "If New_tip≟3"
    if (New_tip == 3):
      $ 39 "MoveL"
      $ 40 "Tip1_high"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.538968396853, -.338377608337, .326941763397, -.006750101562, .008486174075, 3.126496266078], a=1.2, v=0.25)
      $ 41 "Tip1_press"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.538579210121, -.338874534718, .235943952446, .001253579086, -.008321164729, -2.111822295034], a=1.2, v=0.25)
      $ 42 "Tip1_Lock"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.538583486898, -.338869073989, .236943928390, .001253579096, -.008321164788, -2.111822295346], a=1.2, v=0.25)
      $ 43 "Tip1_Slip"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.538568398257, -.337869202387, .236938532763, -.006755020820, .008472033663, 3.124160891745], a=1.2, v=0.25)
      $ 44 "Tip1_high"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.538968396853, -.338377608337, .326941763397, -.006750101562, .008486174075, 3.126496266078], a=1.2, v=0.25)
    end
    $ 45 "If New_tip≟4"
    if (New_tip == 4):
      $ 46 "MoveL"
      $ 47 "Tip2_High"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.538643991063, -.316880368898, .326825757409, -.006750101602, .008486174121, 3.126496266077], a=1.2, v=0.25)
      $ 48 "Tip2_Press"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.538254804330, -.317377295280, .235827946458, .001243202464, -.008318897779, -2.109462831330], a=1.2, v=0.25)
      $ 49 "Tip2_Lock"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.538259081108, -.317371834550, .236827922402, .001243202613, -.008318897712, -2.109462831304], a=1.2, v=0.25)
      $ 50 "Tip2_Slip"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.538243992466, -.316371962948, .236822526775, -.006750101593, .008486174136, 3.126496266077], a=1.2, v=0.25)
      $ 51 "Tip2_High"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.538643991063, -.316880368898, .326825757409, -.006750101602, .008486174121, 3.126496266077], a=1.2, v=0.25)
    end
    $ 52 "If New_tip≟5"
    if (New_tip == 5):
      $ 53 "MoveL"
      $ 54 "Tip3_High"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.538312040952, -.294883193659, .326707053607, -.006750099425, .008486175583, 3.126496266085], a=1.2, v=0.25)
      $ 55 "Tip3_Press"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.537922854219, -.295380120040, .235709242656, .001243201428, -.008318898387, -2.109462831387], a=1.2, v=0.25)
      $ 56 "Tip3_Lock"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.537927130996, -.295374659310, .236709218600, .001243202004, -.008318897244, -2.109462831333], a=1.2, v=0.25)
      $ 57 "Tip3_Slip"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.537912042355, -.294374787708, .236703822973, -.006750100039, .008486175795, 3.126496244998], a=1.2, v=0.25)
      $ 58 "Tip3_High"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.538312040952, -.294883193659, .326707053607, -.006750099425, .008486175583, 3.126496266085], a=1.2, v=0.25)
    end
    $ 59 "If New_tip≟6"
    if (New_tip == 6):
      $ 60 "MoveL"
      $ 61 "Tip4_High"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.537987635161, -.273385954220, .326591047619, -.006750099220, .008486175790, 3.126496266072], a=1.2, v=0.25)
      $ 62 "Tip4_Press"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.537598448429, -.273882880601, .235593236668, .001243202486, -.008318897795, -2.109462831338], a=1.2, v=0.25)
      $ 63 "Tip4_Lock"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.537602725206, -.273877419871, .236593212612, .001243202483, -.008318897768, -2.109462831485], a=1.2, v=0.25)
      $ 64 "Tip4_Slip"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.537587636565, -.272877548270, .236587816985, -.006750101228, .008486170773, 3.126496266091], a=1.2, v=0.25)
      $ 65 "Tip4_High"
      set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
      movel(p[-.537987635161, -.273385954220, .326591047619, -.006750099220, .008486175790, 3.126496266072], a=1.2, v=0.25)
    end
    $ 66 "MoveJ"
    $ 67 "Tip_change"
    set_tcp(p[-0.0028,-0.02585,0.25053,-0.3984838016857738,-2.8957812454408103,-0.023838734981926585])
    movej(get_inverse_kin(p[-.081571041689, -.272848135185, .299256207466, .000010599753, .000091034070, -1.545000225581], qnear=[-1.2314394156085413, -0.8807929197894495, -1.7776911894427698, -1.8250792662249964, 1.475998878479004, 2.150223970413208]), a=1.3962634015954636, v=1.0471975511965976)
    $ 68 "If New_tip≠0"
    if (New_tip != 0):
      $ 69 "Set"
      set_tcp(p[0.011745600311572041,-0.030167310562900784,0.3146076892043139,-0.4010849336735409,-2.8625213313900866,-0.008012866968354904])
    end
    $ 70 "Old_tip≔New_tip"
    global Old_tip=New_tip
  end
end
